<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    //获取当前选择的值
    <select id="sltLB" name="sltLB" onchange='btnChange(this[selectedIndex].value);'>
        <option value="1" selected="selected">全校</option>
        <option value="2">教师</option>
        <option value="3">学生</option>
      </select>
</body>

<script>
function objGet(obj, keys) {
    let tmp = Object.assign({}, obj);

    let arr = keys.split('.');

    arr.forEach( key => {
       tmp = tmp[key];
       if(tmp = null || typeof(tmp) !='object' || tmp.constructor)
        return;
    });
    return tmp;
}

    let tpl = `叫{{name}},今年{{age}},小弟{{child.name}},今年{{child.age}}`;

    let data = {
        name: 'Asam',
        age: 23,
        child: {
            name: 'fmt',
            age: 21
        }
    }

    function templator() {
        let re = /{{([^}}])}}/g,
            result = tpl,
            match;

        while(match = re.exce(tpl)){
            let curlyBlock = match[0];
            let key = match[1];
            let value = objGet(data, key);

            result = result.replace(curlyBlock, objGet(data, value));
        }
        console.log(result);
    }


    templator();

  </script>
</html>